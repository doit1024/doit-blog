---
import {
  Image,
  type LocalImageProps,
  type RemoteImageProps,
} from "astro:assets";
import { getOriginImage } from "@/utils/assets";

export interface Props {
  imageProps: LocalImageProps | RemoteImageProps;
  caption: string;
  class?: string;
}

const { imageProps, caption, class: className = "" } = Astro.props;
---

<figure
  class:list={["figure-image", className]}
  data-src={getOriginImage(imageProps.src as string)}
>
  <Image {...imageProps} />
  {caption && <figcaption>â–²{caption}</figcaption>}
</figure>
